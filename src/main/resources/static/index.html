<!DOCTYPE html>
<html>
	<head>
		<script src="https://kit.fontawesome.com/2a0c623876.js" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="main.css">
		
		<title>Edison Robot</title>
	</head>
	<body>
		<p id="system-state" class="text-centered"><br></p>
		<p id="telemetry" class="text-centered">
			<i class="fas fa-bolt" title="Main battery voltage"></i> <span id="battery-voltage">0.00v</span> 
			<i class="fas fa-thermometer-full" title="Motherboard temperature"></i> <span id="board-temperature">0.0 &#8451;</span>
		</p>
	
		<div id="controls">
			<div class="controls-section">
				<b>Speed:</b> <input id="speed-input" type="number" min="1" max="1000" value="300">
			</div>
			
			<div class="controls-section">
				<button id="shutdown-btn">Shutdown</button>
				<button id="reboot-btn">Reboot</button>
				<button id="wifi-btn">WiFi</button>
			</div>

			<div class="controls-section">
				<input type="checkbox" id="lights-toggle">Lighting
				<input type="checkbox" id="stream-toggle">Stream
			</div>

			<div class="controls-section">
				<button id="nav-toggle">Show map</button>
				<button id="waypoint-btn" style="display: none">Set waypoint here</button>
				<button id="movement-toggle" style="display: none">Enable movement</button>
			</div>
		</div>

		<div id="map-section" class="div-centered" style="display: none;">
			<canvas id="map-canvas" width="250" height="250"></canvas>
			<div id="raw-sensor-section">
				<p class="map-section-title">Raw IMU Data</p>
				<ul>
					<li>Heading: <span id="raw-heading">0</span>&deg;</li>
					<li>Acceleration (X): <span id="raw-acc-x">0.0</span> m/s&#178;</li>
					<li>Acceleration (Y): <span id="raw-acc-y">0.0</span> m/s&#178;</li>
					<li>Acceleration (Z): <span id="raw-acc-z">0.0</span> m/s&#178;</li>
					<li>Calibration status: <span id="raw-calib">0, 0, 0, 0</span></li>
				</ul>

				<p class="map-section-title">Navigation Parameters</p>
				<ul>
					<li>Cross-track error: <span id="raw-cte">0.0</span></li>
				</ul>
			</div>
		</div>
		
		<img class="image-centered" onerror="showStream(false)" id="camera-stream">

		<div id="connection-error-modal" class="modal">
			<div class="modal-content text-centered">
				<h2 class="modal-title">Connection error</h2>
				<p class="modal-subtitle" id="connection-error-msg"></p>
			</div>
		</div>

		<div id="confirmation-modal" class="modal">
			<div class="modal-content text-centered">
				<h2 class="modal-title" id="confirmation-modal-question"></h2>
				<button id="confirmation-modal-cancel" class="modal-button">Cancel</button>
				<button id="confirmation-modal-confirm" class="modal-button">Confirm</button>
			</div>
		</div>

		<div id="wifi-modal" class="modal">
			<div class="modal-content text-centered">
				<h2 class="modal-title">Connect to WiFi</h2>

				<label for="wifi-modal-configuration-select">Select a configuration</label>
				<select id="wifi-modal-configuration-select" value="none">
					<option value="none"></option>
				</select>

				<label for="wifi-modal-ssid">SSID</label>
				<input type="text" id="wifi-modal-ssid">

				<label for="wifi-modal-password">Password</label>
				<input type="text" id="wifi-modal-password">

				<div id="wifi-modal-buttons">
					<button id="wifi-modal-cancel" class="modal-button">Cancel</button>
					<button id="wifi-modal-confirm" class="modal-button">Connect and Reboot</button>
				</div>
			</div>
		</div>

		<script src="main.js"></script>
	</body>
</html>